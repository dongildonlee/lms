{% autoescape off %}
\documentclass[11pt]{article}

\usepackage[margin=1in]{geometry}
\usepackage{enumitem}
\setlist[itemize]{leftmargin=1.4em}

% Unicode-safe fonts with automatic fallback
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX, Scale=MatchLowercase}

\IfFontExistsTF{TeX Gyre Termes}{%
  \setmainfont{TeX Gyre Termes}%
}{%
  \setmainfont{Latin Modern Roman}%
}
\IfFontExistsTF{TeX Gyre Heros}{%
  \setsansfont{TeX Gyre Heros}%
}{%
  \setsansfont{Latin Modern Sans}%
}
\IfFontExistsTF{TeX Gyre Cursor}{%
  \setmonofont{TeX Gyre Cursor}%
}{%
  \setmonofont{Latin Modern Mono}%
}

\usepackage{unicode-math}
\IfFontExistsTF{TeX Gyre Termes Math}{%
  \setmathfont{TeX Gyre Termes Math}%
}{%
  \setmathfont{Latin Modern Math}%
}

% Graphics / math
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{amsmath,amssymb}

\begin{document}
\section*{Personalized Practice --- {{ sid }}}

{% if questions|length == 0 %}
No current still-missed questions.
{% else %}
\begin{enumerate}
{% for q in questions %}
\item {{ q.stem_md|safe }}

{% if q.choices %}
\begin{itemize}
{% for k, v in q.choices.items %}
\item \textbf{({{ k }})} {{ v|safe }}
{% endfor %}
\end{itemize}
{% endif %}

\vspace{0.8em}
{% endfor %}
\end{enumerate}
{% endif %}

\end{document}
{% endautoescape %}





