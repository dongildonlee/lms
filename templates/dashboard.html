{% extends "base.html" %}
{% block title %}Dashboard | Wrong-Answer Packets{% endblock %}

{% block content %}
<h1 class="text-4xl font-semibold mb-6 text-white drop-shadow">My Subjects</h1>

<style>
  /* Frosted glass primitives */
  .glass{
    background: rgba(255,255,255,.12);
    border: 1px solid rgba(255,255,255,.25);
    border-radius: 1rem;                 /* 16px */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
    transition: transform .18s ease, background .18s ease, border-color .18s ease;
  }
  .glass:hover{
    background: rgba(255,255,255,.16);
    border-color: rgba(255,255,255,.35);
    transform: translateY(-2px);
  }
  .glass-muted{ color: rgba(226,232,240,.9); }   /* slate-200/90 */
  .glass-title{ color:#fff; text-shadow: 0 1px 2px rgba(0,0,0,.35); }

  /* Topic chips */
  .glass-chip{
    display:inline-block;
    padding:.35rem .65rem;
    border-radius:9999px;
    background: rgba(255,255,255,.16);
    border:1px solid rgba(255,255,255,.3);
    color:#fff;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    transition: background .15s ease, border-color .15s ease, transform .15s ease;
  }
  .glass-chip:hover{
    background: rgba(255,255,255,.22);
    border-color: rgba(255,255,255,.45);
    transform: translateY(-1px);
  }
</style>

<!-- Small ID pill -->
<div class="glass inline-block px-4 py-2 mb-6">
  <span class="glass-muted text-sm">Student ID:</span>
  <strong class="text-white">{{ me_sid }}</strong>
</div>

{% if groups %}
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for g in groups %}
      <section class="glass p-6">
        <div class="flex items-start justify-between gap-4">
          <h2 class="glass-title text-2xl font-semibold">{{ g.parent }}</h2>
          <a href="/practice/?tag={{ g.parent|urlencode }}"
             class="btn btn-primary !text-white">Practice</a>
        </div>

        {% if g.children %}
          <p class="glass-muted mt-3">Topics</p>
          <div class="mt-2 flex flex-wrap gap-2">
            {% for c in g.children %}
              <a class="glass-chip" href="/practice/?tag={{ c|urlencode }}">{{ c }}</a>
            {% endfor %}
          </div>
        {% else %}
          <p class="glass-muted mt-4">No topics yet.</p>
        {% endif %}
      </section>
    {% endfor %}
  </div>
{% else %}
  <p class="glass-muted">No subjects assigned yet.</p>
{% endif %}
{% endblock %}




